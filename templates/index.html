<form method="POST" action="/agregar">
  <div class="row">
    <div class="col-md-6 mb-3">
      <label>Nombre:</label>
      <input name="nombre" class="form-control" required>
    </div>
    <div class="col-md-6 mb-3">
      <label>Tipo:</label>
      <input name="tipo" class="form-control" required>
    </div>
    <div class="col-md-6 mb-3">
      <label>Propietario:</label>
      <input name="propietario" class="form-control" required>
    </div>
    <div class="col-md-6 mb-3">
      <label>Ubicación:</label>
      <input name="ubicacion" class="form-control" required>
    </div>
    <div class="col-md-6 mb-3">
      <label>Clasificación:</label>
      <select name="clasificacion" class="form-control" required>
        <option value="">-- Selecciona --</option>
        <option>Confidencial</option>
        <option>Interna</option>
        <option>Pública</option>
      </select>
    </div>
    <div class="col-md-6 mb-3">
      <label>Estado:</label>
      <input name="estado" class="form-control" required>
    </div>
    <div class="col-md-6 mb-3">
      <label>Fecha Alta:</label>
      <input name="fecha_alta" type="date" class="form-control" required>
    </div>
    <div class="col-md-6 mb-3">
      <label>Etiqueta:</label>
      <input name="etiqueta" class="form-control">
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Guardar</button>
</form>
<!--Búsqueda en tiempo real-->

<input type="text" id="busqueda" placeholder="Buscar por nombre, etiqueta o propietario">
<table id="tabla-activos">
  <!-- Aquí se renderizan los activos -->
</table>

<script>
  document.getElementById("busqueda").addEventListener("input", function () {
    const query = this.value;
    fetch(`/buscar_activos?query=${encodeURIComponent(query)}`)
      .then(response => response.json())
      .then(data => {
        const tabla = document.getElementById("tabla-activos");
        tabla.innerHTML = "";
        data.forEach(activo => {
          tabla.innerHTML += `
            <tr>
              <td>${activo.nombre}</td>
              <td>${activo.etiqueta}</td>
              <td>${activo.propietario}</td>
            </tr>`;
        });
      });
  });
</script>
